
# =============================================================================
# REQUIRED - Deployment
# =============================================================================

# Deployer wallet private key (with 0x prefix)
PRIVATE_KEY=0x_your_private_key_here

# Protocol admin address (receives admin roles, can be multisig)
PROTOCOL_ADMIN=0x_your_deployer_address_here

# Deployer address (derived from PRIVATE_KEY, used for verification & individual scripts)
DEPLOYER_ADDRESS=0x_your_deployer_address_here

# =============================================================================
# REQUIRED - Network RPCs
# =============================================================================

# Berachain Mainnet
BERACHAIN_RPC_URL=https://rpc.berachain.com

# Bepolia Testnet (note: foundry.toml expects BEPOLIA_RPC_URL)
BEPOLIA_RPC_URL=https://bepolia.rpc.berachain.com

# =============================================================================
# REQUIRED - Contract Verification
# =============================================================================

# Berascan API key for contract verification (mainnet)
# Get from: https://berascan.com/myapikey
BERASCAN_API_KEY=your_berascan_api_key_here

# Bepoliascan API key (testnet) - often same as BERASCAN_API_KEY
BEPOLIASCAN_API_KEY=your_bepoliascan_api_key_here

# =============================================================================
# REQUIRED - External Contract Addresses (Berachain Mainnet)
# Block time: 2 seconds (fixed via BRIP-0003)
# =============================================================================

# iBGT token address
# Bepolia: 0x46eFC86F0D7455F135CC9df501673739d513E982
# Mainnet: 0xac03CABA51e17c86c921E1f6CBFBdC91F8BB2E6b
IBGT_ADDRESS=0xac03CABA51e17c86c921E1f6CBFBdC91F8BB2E6b

# HONEY stablecoin address
# Bepolia: 0x7EeCA4205fF31f947EdBd49195a7A88E6A91161B
# Mainnet: 0xFCBD14DC51f0A4d49d5E53C2E0950e0bC26d0Dce
HONEY_ADDRESS=0xFCBD14DC51f0A4d49d5E53C2E0950e0bC26d0Dce

# Infrared iBGT Vault (MultiRewards-based)
# Reward tokens: HONEY, WBERA, wiBGT — single getReward() claims all
# Bepolia: 0x75F3Be06b02E235E93Aa599F2fA6e44ed67B6C47
# Mainnet: 0x75F3Be06b02E235f6d0E7EF2D462b29739168301
INFRARED_STAKING=0x75F3Be06b02E235f6d0E7EF2D462b29739168301

# Kodiak DEX router (UniswapV2Router02)
# Bepolia: 0x496e305C03909ae382974cAcA4c580E1BF32afBE
# Mainnet: 0xd91dd58387Ccd9B66B390ae2d7c66dBD46BC6022
KODIAK_ROUTER=0xd91dd58387Ccd9B66B390ae2d7c66dBD46BC6022

# Kodiak DEX factory (UniswapV2Factory)
# Bepolia: 0x420DD381b31aEf6683db6B902084cB0FFECe40Da
# Mainnet: 0x5e705e184d233ff2a7cb1553793464a9d0c3028f
KODIAK_FACTORY=0x5e705e184d233ff2a7cb1553793464a9d0c3028f

# =============================================================================
# REQUIRED - Staking Configuration
# =============================================================================

# Epoch length in blocks (Berachain mainnet: 2s per block)
# 7 days = 604800s / 2s = 302400 blocks
# Testnet: 600 (~20 min at 2s blocks)
EPOCH_LENGTH=302400

# First epoch number (usually 0)
FIRST_EPOCH_NUMBER=0

# First epoch end block (current block + EPOCH_LENGTH, set at deploy time)
FIRST_EPOCH_BLOCK=

# =============================================================================
# OPTIONAL - Pre-sale
# =============================================================================

# Merkle root for pre-sale whitelist (generate with scripts/generateMerkleTree.js)
# Allocations: Booga Bullas 25%, ApDAO 25%, Bullas+Booga Beras+Booga Bullas 5.3%, BeraReserve 4.7%
# If unset, a placeholder is used (rejected on mainnet chain 80094)
MERKLE_ROOT=

# Pre-sale token price: $0.50 per APIARY (set via admin after deploy)
# Per-address cap: no fixed cap, limited by whitelist allocation

# =============================================================================
# OPTIONAL - Bond Terms
# Berachain mainnet: 2s blocks, 7-day vesting = 302400 blocks
# =============================================================================

# Vesting term in blocks (min 17280, 7 days = 302400 at 2s blocks)
BOND_VESTING_TERM=302400

# Max payout per bond as fraction of allocation (1-1000, divided by 10000)
# maxPayout() = allocationLimit * BOND_MAX_PAYOUT / 10000
# With 20M allocation and 1: 20M * 1 / 10000 = 2,000 APIARY ($1k at $0.50)
BOND_MAX_PAYOUT=1

# Base discount from TWAP price in basis points (max 5000)
# Actual discount uses debt-based curve: higher debt → lower discount
# 500 = 5% base discount
BOND_DISCOUNT_RATE=500

# Maximum total outstanding debt in APIARY (9 decimals)
# $10k initially at $0.50/APIARY = 20,000 APIARY
BOND_MAX_DEBT=20000000000000

# =============================================================================
# OPTIONAL - APIARY Minting Allocations (9 decimals)
# =============================================================================

# Treasury allocation (default 1B)
ALLOC_TREASURY=1000000000000000000

# Pre-Sale allocation (default 110k)
ALLOC_PRESALE=110000000000000

# iBGT Bond allocation (20M APIARY — gives 2,000 APIARY max per bond with BOND_MAX_PAYOUT=1)
# Can increase later via increaseAllocationLimit()
ALLOC_IBGT_BOND=20000000000000000

# LP Bond allocation (20M APIARY — same logic as iBGT bond)
ALLOC_LP_BOND=20000000000000000

# =============================================================================
# OPTIONAL - Treasury Safety Limits
# =============================================================================

# Max mint ratio in basis points (max 20000, default 12000 = 120%)
MAX_MINT_RATIO_BPS=12000

# Max APIARY mintable per deposit (9 decimals, default 1M)
MAX_MINT_PER_DEPOSIT=1000000000000000

# =============================================================================
# OPTIONAL - sApiary / Staking
# =============================================================================

# Initial index for sApiary (default 1e9 = 1.0)
SAPIARY_INITIAL_INDEX=1000000000

# =============================================================================
# REQUIRED ON MAINNET - Ownership Transfer
# =============================================================================

# Multisig address for ownership transfer (required on mainnet)
# Testing multisig: 0x87cf2DD460bE20555be5fE0910C988D27D7c48f8
MULTISIG_ADDRESS=0x87cf2DD460bE20555be5fE0910C988D27D7c48f8

# =============================================================================
# OPTIONAL - After Initial Deployment (fill after deploy)
# =============================================================================

# Deployed contract addresses
APIARY_ADDRESS=
SAPIARY_ADDRESS=
TREASURY_ADDRESS=
STAKING_ADDRESS=

# LP pair address (created post-deploy on Kodiak, required for bonds & oracle)
LP_PAIR_ADDRESS=

# Bond & yield contract addresses
IBGT_BOND_ADDRESS=
LP_BOND_ADDRESS=
PRESALE_ADDRESS=
YIELD_MANAGER_ADDRESS=
INFRARED_ADAPTER_ADDRESS=
KODIAK_ADAPTER_ADDRESS=
BONDING_CALCULATOR_ADDRESS=

# APIARY/HONEY LP token address (for VerifyDeployment)
APIARY_HONEY_LP=
